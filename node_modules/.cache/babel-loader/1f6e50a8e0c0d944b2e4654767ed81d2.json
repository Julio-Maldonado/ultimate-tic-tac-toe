{"ast":null,"code":"var _jsxFileName = \"/Users/juliom/React/ultimate-tic-tac-toe/src/app/Game.js\";\nimport React, { Component } from 'react';\nimport { calculateWinner } from './helperFunctions';\nimport Board from './Board';\nimport './styles.css';\nimport Modal from 'react-responsive-modal';\n\nclass Game extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null)\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      openModal: false\n    };\n\n    this.jumpTo = step => {\n      this.setState({\n        stepNumber: step,\n        xIsNext: step % 2 === 0\n      });\n    };\n\n    this.handleClick = i => {\n      const history = this.state.history.slice(0, this.state.stepNumber + 1);\n      const current = history[history.length - 1];\n      const squares = current.squares.slice();\n      if (calculateWinner(squares) || squares[i]) return;\n      squares[i] = this.state.xIsNext ? 'X' : 'O';\n      this.setState({\n        history: history.concat([{\n          squares: squares\n        }]),\n        stepNumber: history.length,\n        xIsNext: !this.state.xIsNext\n      });\n    };\n\n    this.clearGame = () => {\n      this.setState({\n        history: [{\n          squares: Array(9).fill(null)\n        }],\n        stepNumber: 0\n      });\n    };\n\n    this.onOpenModal = () => {\n      this.setState({\n        openModal: true\n      });\n    };\n\n    this.onCloseModal = () => {\n      this.setState({\n        openModal: false\n      });\n      this.clearGame();\n      this.tie = false;\n    };\n  }\n\n  render() {\n    const openModal = this.state.openModal;\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n    const moves = history.map((step, move) => {\n      let desc;\n      if (this.props.englishFlag) desc = move ? 'Go to move #' + move : 'Go to game start';else desc = move ? 'Ir a moverse #' + move : 'Ir al inicio del juego';\n      return React.createElement(\"li\", {\n        key: move,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.jumpTo(move),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, desc));\n    });\n    let status;\n\n    if (winner && !openModal) {\n      if (this.props.englishFlag) status = 'Winner: ' + winner;else status = 'Ganador: ' + winner;\n      this.onOpenModal();\n    } else {\n      if (this.props.englishFlag) status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');else status = 'Siguiente jugador: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    if (history.length === 10 && !openModal) {\n      this.tie = true;\n      this.onOpenModal();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.props.englishFlag ? React.createElement(Modal, {\n      open: openModal,\n      onClose: this.onCloseModal,\n      center: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.tie ? React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"It's a tie!\") : React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Congrats Player \", winner, \"!\"), React.createElement(\"button\", {\n      onClick: () => this.onCloseModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Play Again\"), React.createElement(\"button\", {\n      onClick: () => this.props.returnToHomeScreen(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Go Back\")) : React.createElement(Modal, {\n      open: openModal,\n      onClose: this.onCloseModal,\n      center: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.tie ? React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Es una empate!\") : React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Felicidades Jugador \", winner, \"!\"), React.createElement(\"button\", {\n      onClick: () => this.onCloseModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Juega de Nuevo\"), React.createElement(\"button\", {\n      onClick: () => this.props.returnToHomeScreen(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Regresa\")), React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Board, {\n      squares: current.squares,\n      onClick: i => this.handleClick(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, status), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, moves)));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/juliom/React/ultimate-tic-tac-toe/src/app/Game.js"],"names":["React","Component","calculateWinner","Board","Modal","Game","state","history","squares","Array","fill","stepNumber","xIsNext","openModal","jumpTo","step","setState","handleClick","i","slice","current","length","concat","clearGame","onOpenModal","onCloseModal","tie","render","winner","moves","map","move","desc","props","englishFlag","status","returnToHomeScreen"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {calculateWinner} from './helperFunctions'\nimport Board from './Board'\nimport './styles.css'\nimport Modal from 'react-responsive-modal'\n\nclass Game extends Component {\n    state = {\n    \thistory: [{\n    \t\tsquares: Array(9).fill(null)\n    \t}],\n    \tstepNumber: 0,\n\t\txIsNext: true,\n\t\topenModal: false,\n    }\n\n    jumpTo = (step) => {\n    \tthis.setState({\n    \t\tstepNumber: step,\n    \t\txIsNext: (step % 2) === 0\n    \t})\n    }\n\n    handleClick = (i) => {\n    \tconst history = this.state.history.slice(0, this.state.stepNumber + 1)\n    \tconst current = history[history.length - 1]\n    \tconst squares = current.squares.slice()\n\n    \tif (calculateWinner(squares) || squares[i])\n    \t\treturn\n\n    \tsquares[i] = this.state.xIsNext ? 'X' : 'O'\n    \tthis.setState({\n    \t\thistory: history.concat([{\n    \t\t\tsquares: squares\n    \t\t}]),\n    \t\tstepNumber: history.length,\n    \t\txIsNext: !this.state.xIsNext\n    \t})\n\t}\n\t\n\tclearGame = () => {\n\t\tthis.setState({\n\t\t\thistory: [{\n    \t\t\tsquares: Array(9).fill(null)\n\t\t\t}],\n\t\t\tstepNumber: 0\n\t\t})\n\t}\n\n\tonOpenModal = () => {\n\t\tthis.setState({ openModal: true });\n\t};\n\n\tonCloseModal = () => {\n\t\tthis.setState({ openModal: false});\n\t\tthis.clearGame()\n\t\tthis.tie = false\n\t};\n\n    render() {\n\t\tconst openModal = this.state.openModal\n\n    \tconst history = this.state.history\n    \tconst current = history[this.state.stepNumber]\n    \tconst winner = calculateWinner(current.squares)\n\n    \tconst moves = history.map((step, move) => {\n\t\t\tlet desc\n\t\t\tif (this.props.englishFlag)\n\t\t\t\tdesc = move ? 'Go to move #' + move : 'Go to game start'\n\t\t\telse \n\t\t\t\tdesc = move ? 'Ir a moverse #' + move : 'Ir al inicio del juego'\n\t\t\t\n    \t\treturn (\n    \t\t\t<li key={move}>\n    \t\t\t\t<button onClick={() => this.jumpTo(move)}>{desc}</button>\n    \t\t\t</li>\n    \t\t)\n    \t})\n\n    \tlet status\n    \tif (winner && !openModal) {\n\t\t\tif (this.props.englishFlag)\n\t\t\t\tstatus = 'Winner: ' + winner\n\t\t\telse \n\t\t\t\tstatus = 'Ganador: ' + winner\n\t\t\tthis.onOpenModal()\n\t\t}\n    \telse {\n\t\t\tif (this.props.englishFlag)\n\t\t\t\tstatus = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O')\n\t\t\telse \n\t\t\t\tstatus = 'Siguiente jugador: ' + (this.state.xIsNext ? 'X' : 'O')\n\t\t\t\n\t\t}\n\n\t\tif (history.length === 10 && !openModal) {\n\t\t\tthis.tie = true\n\t\t\tthis.onOpenModal()\n\t\t}\n\n    \treturn (\n    \t\t<div className=\"game\">\n\t\t\t\t{\n                    this.props.englishFlag ?\n\t\t\t\t(<Modal open={openModal} onClose={this.onCloseModal} center>\n\t\t\t\t\t{this.tie ? <h2>It's a tie!</h2> : <h2>Congrats Player {winner}!</h2>}\t\t\t\t\t\n\t\t\t\t\t<button onClick={() => this.onCloseModal()}>Play Again</button>\n\t\t\t\t\t<button onClick={() => this.props.returnToHomeScreen()}>Go Back</button>\n\t\t\t\t</Modal>) :\n\t\t\t\t(<Modal open={openModal} onClose={this.onCloseModal} center>\n\t\t\t\t\t{this.tie ? <h2>Es una empate!</h2> : <h2>Felicidades Jugador {winner}!</h2>}\t\t\t\t\t\n\t\t\t\t\t<button onClick={() => this.onCloseModal()}>Juega de Nuevo</button>\n\t\t\t\t\t<button onClick={() => this.props.returnToHomeScreen()}>Regresa</button>\n\t\t\t\t</Modal>)\n\t\t\t\t}\n    \t\t\t<div className=\"game-board\">\n    \t\t\t\t<Board\n    \t\t\t\t\tsquares={current.squares}\n    \t\t\t\t\tonClick={(i) => this.handleClick(i)}\n    \t\t\t\t/>\n    \t\t\t</div>\n    \t\t\t<div className=\"game-info\">\n    \t\t\t\t<div>{status}</div>\n    \t\t\t\t<ol>{moves}</ol>\n    \t\t\t</div>\n    \t\t</div>\n    \t)\n    }\n}\n\nexport default Game\n"]},"metadata":{},"sourceType":"module"}